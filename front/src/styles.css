:root{
  --bg:#0f1723;
  --card:#0b1220;
  --muted:#93a1b2;
  --accent:#10b981;
  --accent-2:#7c3aed;
  --chat-vspace: 160px; /* change this value to increase/decrease header + margins reserved space */
  --input-height: 56px; /* adjust input height for spacing calculations */
  --header-height: 64px; /* height of the fixed header */
}

*{box-sizing:border-box}
html,body,#root{height:100%; overflow:hidden}
body{
  margin:0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans TC', 'Microsoft JhengHei', sans-serif;
  background: linear-gradient(180deg, #081124 0%, #081123 100%);
  color:#e6eef6;
}

.app{max-width:900px;margin:24px auto;padding:16px;padding-top:calc(var(--header-height) + 16px)}

/* fixed header at top of viewport */
.header{display:flex;align-items:center;gap:16px;position:fixed;left:50%;transform:translateX(-50%);top:12px;z-index:60;width:calc(min(900px, 100% - 48px));height:var(--header-height);padding:8px 16px;background:rgba(255,255,255,0.02);border-radius:12px}
.header h1{margin:0}

.chat-container{background:rgba(255,255,255,0.02);border-radius:12px;padding:12px;display:flex;flex-direction:column;height:calc(100vh - var(--chat-vspace));min-height:520px;padding-bottom:calc(var(--input-height) + 64px)}
.messages{flex:1 1 auto;overflow:auto;padding:8px 8px calc(var(--input-height) + 44px) 8px;display:flex;flex-direction:column;gap:8px;scroll-padding-bottom:calc(var(--input-height) + 48px)}

/* visually hide scrollbars but keep scrolling behavior */
.messages{
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
.messages::-webkit-scrollbar{display:none;height:0;width:0}
.message{display:flex;gap:12px;align-items:flex-start}
.message.user{justify-content:flex-end}
.message .role{width:60px;font-size:12px;color:var(--muted)}
.message.user .content{background:linear-gradient(90deg,var(--accent),#06b6d4);color:#062024}
.message.assistant .content{background:rgba(255,255,255,0.04)}
.message.system .content{background:rgba(255,255,255,0.02);font-style:italic}
.content{padding:10px 14px;border-radius:8px;max-width:70%;white-space:pre-wrap}
.input-row{display:flex;gap:8px;padding:8px 12px;border-top:1px solid rgba(255,255,255,0.02);background:transparent}

/* fixed input at the viewport bottom */
.input-row{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:24px;
  z-index:60;
  width:calc(min(900px, 100% - 48px));
  padding:8px 12px;
  box-sizing:border-box;
  /* visual separation so messages don't seem under the input */
  background: linear-gradient(180deg, rgba(11,18,32,0.0), rgba(11,18,32,0.6));
  backdrop-filter: blur(6px);
  border-radius:12px;
  box-shadow: 0 8px 24px rgba(2,6,23,0.6);
}
.input-row input{flex:1;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:inherit;height:var(--input-height)}
.input-row button{margin-left:8px;padding:10px 16px;border-radius:10px;border:0;background:var(--accent);color:#02211a;height:var(--input-height)}

/* responsive: reduce spacing on small screens */
@media (max-width:600px){
  .input-row{width:calc(100% - 24px);left:12px;transform:none}
  .header{width:calc(100% - 24px);left:12px;transform:none}
}

/* typing indicator */
.typing-indicator{display:flex;gap:6px;align-items:center}
.typing-indicator .dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,0.6);opacity:0.2}
.typing-indicator .dot:nth-child(1){animation:typing 1s infinite 0s}
.typing-indicator .dot:nth-child(2){animation:typing 1s infinite 0.15s}
.typing-indicator .dot:nth-child(3){animation:typing 1s infinite 0.3s}
@keyframes typing{0%{opacity:0.2;transform:translateY(0)}50%{opacity:1;transform:translateY(-6px)}100%{opacity:0.2;transform:translateY(0)}}

/* loading bubble style */
.message.loading{align-items:flex-start}
.message.loading .content{background:rgba(255,255,255,0.04);max-width:120px;padding:8px;border-radius:12px}
.message.loading .role{width:60px}
